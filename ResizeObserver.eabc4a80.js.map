{"version":3,"sources":["../node_modules/@lit-labs/virtualizer/polyfills/resize-observer-polyfill/ResizeObserver.js"],"names":["isBrowser","window","document","global$1","global","Math","self","Function","requestAnimationFrame$1","requestAnimationFrame","bind","result","callback","setTimeout","Date","now","trailingTimeout","throttle","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","timeStamp","REFRESH_DELAY","transitionKeys","mutationObserverSupported","MutationObserver","origAttachShadow","HTMLElement","prototype","attachShadow","toString","indexOf","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","addObserver","observer","push","connect_","removeObserver","observers","index","splice","length","disconnect_","changesDetected","updateObservers_","activeObservers","filter","gatherActive","hasActive","forEach","broadcastActive","addEventListener","options_1","attributes","childList","characterData","subtree","observe","controller_1","observeExistingShadowRoots","node","shadowRoot","child","firstElementChild","nextElementSibling","args","_i","arguments","apply","removeEventListener","disconnect","_a","_b","propertyName","isReflowProperty","some","key","getInstance","instance_","__values","o","m","Symbol","iterator","i","call","next","value","done","defineConfigurable","target","props","e_1","Object","keys","_c","defineProperty","enumerable","writable","configurable","e_1_1","error","return","getWindowOf","ownerDocument","defaultView","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","reduce","size","position","getPaddings","st","top","right","bottom","left","getSVGContentRect","bbox","getBBox","width","height","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","horizPad","vertPad","boxSizing","round","isDocumentElement","vertScrollbar","horizScrollbar","abs","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","documentElement","getContentRect","createReadOnlyRect","x","y","Constr","DOMRectReadOnly","rect","create","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","broadcastRect","ResizeObserverEntry","rectInit","contentRect","MapShim","Map","getIndex","arr","entry","class_1","__entries__","get","set","delete","entries","has","clear","ctx","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","TypeError","callback_","controller_","callbackCtx_","undefined","Element","observations","unobserve","clearActive","_this","observation","map","ResizeObserver","observer_"],"mappings":"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","file":"ResizeObserver.eabc4a80.js","sourceRoot":"../demo","sourcesContent":["/**\n * Detects whether window and document objects are available in current environment.\n */\n var isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n // Returns global object of a current environment.\n var global$1 = (function () {\n     if (typeof global !== 'undefined' && global.Math === Math) {\n         return global;\n     }\n     if (typeof self !== 'undefined' && self.Math === Math) {\n         return self;\n     }\n     if (typeof window !== 'undefined' && window.Math === Math) {\n         return window;\n     }\n     // eslint-disable-next-line no-new-func\n     return Function('return this')();\n })();\n \n /**\n  * A shim for the requestAnimationFrame which falls back to the setTimeout if\n  * first one is not supported.\n  *\n  * @returns {number} Requests' identifier.\n  */\n var requestAnimationFrame$1 = (function () {\n     if (typeof requestAnimationFrame === 'function') {\n         // It's required to use a bounded function because IE sometimes throws\n         // an \"Invalid calling object\" error if rAF is invoked without the global\n         // object on the left hand side.\n         return requestAnimationFrame.bind(global$1);\n     }\n     var result = function (callback) {\n         return setTimeout(function () { callback(+Date.now()); }, 1000 / 60);\n     };\n     return result;\n })();\n \n // Defines minimum timeout before adding a trailing call.\n var trailingTimeout = 2;\n /**\n  * Creates a wrapper function which ensures that provided callback will be\n  * invoked only once during the specified delay period.\n  *\n  * @param callback - Function to be invoked after the delay period.\n  * @param delay - Delay after which to invoke callback.\n  */\n function throttle (callback, delay) {\n     var leadingCall = false, trailingCall = false, lastCallTime = 0;\n     /**\n      * Invokes the original callback function and schedules new invocation if\n      * the \"proxy\" was called during current request.\n      */\n     function resolvePending() {\n         if (leadingCall) {\n             leadingCall = false;\n             callback();\n         }\n         if (trailingCall) {\n             proxy();\n         }\n     }\n     /**\n      * Callback invoked after the specified delay. It will further postpone\n      * invocation of the original function delegating it to the\n      * requestAnimationFrame.\n      *\n      * @returns {void}\n      */\n     function timeoutCallback() {\n         requestAnimationFrame$1(resolvePending);\n     }\n     /**\n      * Schedules invocation of the original function.\n      */\n     function proxy() {\n         var timeStamp = Date.now();\n         if (leadingCall) {\n             // Reject immediately following calls.\n             if (timeStamp - lastCallTime < trailingTimeout) {\n                 return;\n             }\n             // Schedule new call to be in invoked when the pending one is resolved.\n             // This is important for \"transitions\" which never actually start\n             // immediately so there is a chance that we might miss one if change\n             // happens amids the pending invocation.\n             trailingCall = true;\n         }\n         else {\n             leadingCall = true;\n             trailingCall = false;\n             setTimeout(timeoutCallback, delay);\n         }\n         lastCallTime = timeStamp;\n     }\n     return proxy;\n }\n \n // Minimum delay before invoking the update of observers.\n var REFRESH_DELAY = 20;\n // A list of substrings of CSS properties used to find transition events that\n // might affect dimensions of observed elements.\n var transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\n // Check if MutationObserver is available.\n var mutationObserverSupported = typeof MutationObserver !== 'undefined';\n // Get the native implementation of HTMLElement.attachShadow\n var origAttachShadow = (isBrowser && HTMLElement.prototype.attachShadow &&\n     HTMLElement.prototype.attachShadow.toString().indexOf('[native code]') !== -1) ? HTMLElement.prototype.attachShadow : null;\n /**\n  * Singleton controller class which handles updates of ResizeObserver instances.\n  */\n var ResizeObserverController = /** @class */ (function () {\n     /**\n      * Creates a new instance of ResizeObserverController.\n      */\n     function ResizeObserverController() {\n         /**\n          * Indicates whether DOM listeners have been added.\n          */\n         this.connected_ = false;\n         /**\n          * Tells that controller has subscribed for Mutation Events.\n          */\n         this.mutationEventsAdded_ = false;\n         /**\n          * Keeps reference to the instance of MutationObserver.\n          */\n         this.mutationsObserver_ = null;\n         /**\n          * A list of connected observers.\n          */\n         this.observers_ = [];\n         this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n         this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n     }\n     /**\n      * Adds observer to observers list.\n      *\n      * @param observer Observer to be added.\n      */\n     ResizeObserverController.prototype.addObserver = function (observer) {\n         if (!~this.observers_.indexOf(observer)) {\n             this.observers_.push(observer);\n         }\n         // Add listeners if they haven't been added yet.\n         if (!this.connected_) {\n             this.connect_();\n         }\n     };\n     /**\n      * Removes observer from observers list.\n      *\n      * @param observer Observer to be removed.\n      */\n     ResizeObserverController.prototype.removeObserver = function (observer) {\n         var observers = this.observers_;\n         var index = observers.indexOf(observer);\n         // Remove observer if it's present in registry.\n         if (~index) {\n             observers.splice(index, 1);\n         }\n         // Remove listeners if controller has no connected observers.\n         if (!observers.length && this.connected_) {\n             this.disconnect_();\n         }\n     };\n     /**\n      * Invokes the update of observers. It will continue running updates insofar\n      * it detects changes.\n      */\n     ResizeObserverController.prototype.refresh = function () {\n         var changesDetected = this.updateObservers_();\n         // Continue running updates if changes have been detected as there might\n         // be future ones caused by CSS transitions.\n         if (changesDetected) {\n             this.refresh();\n         }\n     };\n     /**\n      * Updates every observer from observers list and notifies them of queued\n      * entries.\n      *\n      * @returns Returns \"true\" if any observer has detected changes in\n      *      dimensions of it's elements.\n      */\n     ResizeObserverController.prototype.updateObservers_ = function () {\n         // Collect observers that have active observations.\n         var activeObservers = this.observers_.filter(function (observer) {\n             return observer.gatherActive(), observer.hasActive();\n         });\n         // Deliver notifications in a separate cycle in order to avoid any\n         // collisions between observers, e.g. when multiple instances of\n         // ResizeObserver are tracking the same element and the callback of one\n         // of them changes content dimensions of the observed target. Sometimes\n         // this may result in notifications being blocked for the rest of observers.\n         activeObservers.forEach(function (observer) { return observer.broadcastActive(); });\n         return activeObservers.length > 0;\n     };\n     /**\n      * Initializes DOM listeners.\n      */\n     ResizeObserverController.prototype.connect_ = function () {\n         // Do nothing if running in a non-browser environment or if listeners\n         // have been already added.\n         if (!isBrowser || this.connected_) {\n             return;\n         }\n         // Subscription to the \"Transitionend\" event is used as a workaround for\n         // delayed transitions. This way it's possible to capture at least the\n         // final state of an element.\n         document.addEventListener('transitionend', this.onTransitionEnd_);\n         window.addEventListener('resize', this.refresh);\n         if (mutationObserverSupported) {\n             this.mutationsObserver_ = new MutationObserver(this.refresh);\n             var options_1 = {\n                 attributes: true,\n                 childList: true,\n                 characterData: true,\n                 subtree: true\n             };\n             this.mutationsObserver_.observe(document, options_1);\n             if (origAttachShadow) {\n                 var controller_1 = this;\n                 (function observeExistingShadowRoots(node) {\n                     var shadowRoot = node.shadowRoot;\n                     if (shadowRoot) {\n                         controller_1.mutationsObserver_.observe(shadowRoot, options_1);\n                         observeExistingShadowRoots(shadowRoot);\n                     }\n                     var child = node.firstElementChild;\n                     while (child) {\n                         observeExistingShadowRoots(child);\n                         child = child.nextElementSibling;\n                     }\n                 })(document);\n                 HTMLElement.prototype.attachShadow = function () {\n                     var args = [];\n                     for (var _i = 0; _i < arguments.length; _i++) {\n                         args[_i] = arguments[_i];\n                     }\n                     var shadowRoot = origAttachShadow.apply(this, args);\n                     controller_1.mutationsObserver_.observe(shadowRoot, options_1);\n                     return shadowRoot;\n                 };\n             }\n         }\n         else {\n             document.addEventListener('DOMSubtreeModified', this.refresh);\n             this.mutationEventsAdded_ = true;\n         }\n         this.connected_ = true;\n     };\n     /**\n      * Removes DOM listeners.\n      */\n     ResizeObserverController.prototype.disconnect_ = function () {\n         // Do nothing if running in a non-browser environment or if listeners\n         // have been already removed.\n         if (!isBrowser || !this.connected_) {\n             return;\n         }\n         document.removeEventListener('transitionend', this.onTransitionEnd_);\n         window.removeEventListener('resize', this.refresh);\n         if (this.mutationsObserver_) {\n             this.mutationsObserver_.disconnect();\n             if (origAttachShadow) {\n                 HTMLElement.prototype.attachShadow = origAttachShadow;\n             }\n         }\n         if (this.mutationEventsAdded_) {\n             document.removeEventListener('DOMSubtreeModified', this.refresh);\n         }\n         this.mutationsObserver_ = null;\n         this.mutationEventsAdded_ = false;\n         this.connected_ = false;\n     };\n     /**\n      * \"Transitionend\" event handler.\n      */\n     ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n         var _b = _a.propertyName, propertyName = _b === void 0 ? '' : _b;\n         // Detect whether transition may affect dimensions of an element.\n         var isReflowProperty = transitionKeys.some(function (key) {\n             return !!~propertyName.indexOf(key);\n         });\n         if (isReflowProperty) {\n             this.refresh();\n         }\n     };\n     /**\n      * Returns instance of the ResizeObserverController.\n      */\n     ResizeObserverController.getInstance = function () {\n         if (!ResizeObserverController.instance_) {\n             ResizeObserverController.instance_ = new ResizeObserverController();\n         }\n         return ResizeObserverController.instance_;\n     };\n     /**\n      * Holds reference to the controller's instance.\n      */\n     ResizeObserverController.instance_ = null;\n     return ResizeObserverController;\n }());\n \n /*! *****************************************************************************\n Copyright (c) Microsoft Corporation. All rights reserved.\n Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\n this file except in compliance with the License. You may obtain a copy of the\n License at http://www.apache.org/licenses/LICENSE-2.0\n \n THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\n WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\n MERCHANTABLITY OR NON-INFRINGEMENT.\n \n See the Apache Version 2.0 License for specific language governing permissions\n and limitations under the License.\n ***************************************************************************** */\n \n function __values(o) {\n     var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\n     if (m) return m.call(o);\n     return {\n         next: function () {\n             if (o && i >= o.length) o = void 0;\n             return { value: o && o[i++], done: !o };\n         }\n     };\n }\n \n /**\n  * Defines non-writable/enumerable properties of the provided target object.\n  *\n  * @param target Object for which to define properties.\n  * @param props Properties to be defined.\n  * @returns Target object.\n  */\n var defineConfigurable = (function (target, props) {\n     var e_1, _a;\n     try {\n         for (var _b = __values(Object.keys(props)), _c = _b.next(); !_c.done; _c = _b.next()) {\n             var key = _c.value;\n             Object.defineProperty(target, key, {\n                 value: props[key],\n                 enumerable: false,\n                 writable: false,\n                 configurable: true\n             });\n         }\n     }\n     catch (e_1_1) { e_1 = { error: e_1_1 }; }\n     finally {\n         try {\n             if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n         }\n         finally { if (e_1) throw e_1.error; }\n     }\n     return target;\n });\n \n /**\n  * Returns the global object associated with provided element.\n  *\n  * @param {EventT} target\n  * @returns {Object}\n  */\n var getWindowOf = (function (target) {\n     var _a;\n     // Assume that the element is an instance of Node, which means that it\n     // has the \"ownerDocument\" property from which we can retrieve a\n     // corresponding global object.\n     // Return the local global object if it's not possible extract one from\n     // provided element.\n     return ((_a = target === null || target === void 0 ? void 0 : target.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView) || global$1;\n });\n \n // Placeholder of an empty content rectangle.\n var emptyRect = createRectInit(0, 0, 0, 0);\n /**\n  * Converts provided string to a number.\n  */\n function toFloat(value) {\n     if (typeof value === 'number') {\n         return value;\n     }\n     return parseFloat(value) || 0;\n }\n /**\n  * Extracts borders size from provided styles.\n  */\n function getBordersSize(styles) {\n     var positions = [];\n     for (var _i = 1; _i < arguments.length; _i++) {\n         positions[_i - 1] = arguments[_i];\n     }\n     return positions.reduce(function (size, position) {\n         var value = styles[\"border-\" + position + \"-width\"];\n         return size + toFloat(value);\n     }, 0);\n }\n /**\n  * Extracts paddings sizes from provided styles.\n  */\n function getPaddings(styles) {\n     var st = styles;\n     return {\n         top: toFloat(st['padding-top']),\n         right: toFloat(st['padding-right']),\n         bottom: toFloat(st['padding-bottom']),\n         left: toFloat(st['padding-left'])\n     };\n }\n /**\n  * Calculates content rectangle of provided SVG element.\n  *\n  * @param target Element content rectangle of which needs to be calculated.\n  */\n function getSVGContentRect(target) {\n     var bbox = target.getBBox();\n     return createRectInit(0, 0, bbox.width, bbox.height);\n }\n /**\n  * Calculates content rectangle of provided HTMLElement.\n  *\n  * @param target Element for which to calculate the content rectangle.\n  */\n function getHTMLElementContentRect(target) {\n     // Client width & height properties can't be\n     // used exclusively as they provide rounded values.\n     var clientWidth = target.clientWidth, clientHeight = target.clientHeight;\n     // By this condition we can catch all non-replaced inline, hidden and\n     // detached elements. Though elements with width & height properties less\n     // than 0.5 will be discarded as well.\n     //\n     // Without it we would need to implement separate methods for each of\n     // those cases and it's not possible to perform a precise and performance\n     // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n     // gives wrong results for elements with width & height less than 0.5.\n     if (!clientWidth && !clientHeight) {\n         return emptyRect;\n     }\n     var styles = getWindowOf(target).getComputedStyle(target);\n     var paddings = getPaddings(styles);\n     var horizPad = paddings.left + paddings.right;\n     var vertPad = paddings.top + paddings.bottom;\n     // Computed styles of width & height are being used because they are the\n     // only dimensions available to JS that contain non-rounded values. It could\n     // be possible to utilize the getBoundingClientRect if only it's data wasn't\n     // affected by CSS transformations let alone paddings, borders and scroll\n     // bars.\n     var width = toFloat(styles.width), height = toFloat(styles.height);\n     // Width & height include paddings and borders when the 'border-box' box\n     // model is applied (except for IE).\n     if (styles.boxSizing === 'border-box') {\n         // Following conditions are required to handle Internet Explorer which\n         // doesn't include paddings and borders to computed CSS dimensions.\n         //\n         // We can say that if CSS dimensions + paddings are equal to the \"client\"\n         // properties then it's either IE, and thus we don't need to subtract\n         // anything, or an element merely doesn't have paddings/borders styles.\n         if (Math.round(width + horizPad) !== clientWidth) {\n             width -= getBordersSize(styles, 'left', 'right') + horizPad;\n         }\n         if (Math.round(height + vertPad) !== clientHeight) {\n             height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n         }\n     }\n     // Following steps can't be applied to the document's root element as its\n     // client[Width/Height] properties represent viewport area of the window.\n     // Besides, it's as well not necessary as the <html> itself neither has\n     // rendered scroll bars nor it can be clipped.\n     if (!isDocumentElement(target)) {\n         // In some browsers (only in Firefox, actually) CSS width & height\n         // include scroll bars size which can be removed at this step as scroll\n         // bars are the only difference between rounded dimensions + paddings\n         // and \"client\" properties, though that is not always true in Chrome.\n         var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n         var horizScrollbar = Math.round(height + vertPad) - clientHeight;\n         // Chrome has a rather weird rounding of \"client\" properties.\n         // E.g. for an element with content width of 314.2px it sometimes gives\n         // the client width of 315px and for the width of 314.7px it may give\n         // 314px. And it doesn't happen all the time. So just ignore this delta\n         // as a non-relevant.\n         if (Math.abs(vertScrollbar) !== 1) {\n             width -= vertScrollbar;\n         }\n         if (Math.abs(horizScrollbar) !== 1) {\n             height -= horizScrollbar;\n         }\n     }\n     return createRectInit(paddings.left, paddings.top, width, height);\n }\n /**\n  * Checks whether provided element is an instance of the SVGGraphicsElement.\n  *\n  * @param target Element to be checked.\n  */\n var isSVGGraphicsElement = (function () {\n     // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n     // interface.\n     if (typeof SVGGraphicsElement !== 'undefined') {\n         return function (target) {\n             return target instanceof getWindowOf(target).SVGGraphicsElement;\n         };\n     }\n     // If it's so, then check that element is at least an instance of the\n     // SVGElement and that it has the \"getBBox\" method.\n     // eslint-disable-next-line no-extra-parens\n     return function (target) {\n         return (target instanceof getWindowOf(target).SVGElement &&\n             typeof target.getBBox ===\n                 'function');\n     };\n })();\n /**\n  * Checks whether provided element is a document element (<html>).\n  *\n  * @param target Element to be checked.\n  */\n function isDocumentElement(target) {\n     return target === getWindowOf(target).document.documentElement;\n }\n /**\n  * Calculates an appropriate content rectangle for provided html or svg element.\n  *\n  * @param target Element content rectangle of which needs to be calculated.\n  */\n function getContentRect(target) {\n     if (!isBrowser) {\n         return emptyRect;\n     }\n     if (isSVGGraphicsElement(target)) {\n         return getSVGContentRect(target);\n     }\n     return getHTMLElementContentRect(target);\n }\n /**\n  * Creates rectangle with an interface of the DOMRectReadOnly.\n  * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\n  *\n  * @param rectInit Object with rectangle's x/y coordinates and\n  *     dimensions.\n  */\n function createReadOnlyRect(_a) {\n     var x = _a.x, y = _a.y, width = _a.width, height = _a.height;\n     // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n     var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n     var rect = Object.create(Constr.prototype);\n     // Rectangle's properties are not writable and non-enumerable.\n     defineConfigurable(rect, {\n         'x': x,\n         'y': y,\n         'width': width,\n         'height': height,\n         'top': y,\n         'right': x + width,\n         'bottom': height + y,\n         'left': x,\n     });\n     return rect;\n }\n /**\n  * Creates DOMRectInit object based on the provided dimensions and the x/y\n  * coordinates. Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\n  *\n  * @param x X coordinate.\n  * @param y Y coordinate.\n  * @param width Rectangle's width.\n  * @param height Rectangle's height.\n  */\n function createRectInit(x, y, width, height) {\n     return { x: x, y: y, width: width, height: height };\n }\n \n /**\n  * Class that is responsible for computations of the content rectangle of\n  * provided DOM element and for keeping track of it's changes.\n  */\n var ResizeObservation = /** @class */ (function () {\n     /**\n      * Creates an instance of ResizeObservation.\n      *\n      * @param target Element to be observed.\n      */\n     function ResizeObservation(target) {\n         /**\n          * Broadcasted width of content rectangle.\n          */\n         this.broadcastWidth = 0;\n         /**\n          * Broadcasted height of content rectangle.\n          */\n         this.broadcastHeight = 0;\n         /**\n          * Reference to the last observed content rectangle.\n          */\n         this.contentRect_ = createRectInit(0, 0, 0, 0);\n         this.target = target;\n     }\n     /**\n      * Updates content rectangle and tells whether it's width or height properties\n      * have changed since the last broadcast.\n      */\n     ResizeObservation.prototype.isActive = function () {\n         var rect = getContentRect(this.target);\n         this.contentRect_ = rect;\n         return (rect.width !== this.broadcastWidth ||\n             rect.height !== this.broadcastHeight);\n     };\n     /**\n      * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\n      * from the corresponding properties of the last observed content rectangle.\n      *\n      * @returns Last observed content rectangle.\n      */\n     ResizeObservation.prototype.broadcastRect = function () {\n         var rect = this.contentRect_;\n         this.broadcastWidth = rect.width;\n         this.broadcastHeight = rect.height;\n         return rect;\n     };\n     return ResizeObservation;\n }());\n \n var ResizeObserverEntry = /** @class */ (function () {\n     /**\n      * Creates an instance of ResizeObserverEntry.\n      *\n      * @param target Element that is being observed.\n      * @param rectInit Data of the element's content rectangle.\n      */\n     function ResizeObserverEntry(target, rectInit) {\n         var contentRect = createReadOnlyRect(rectInit);\n         // According to the specification following properties are not writable\n         // and are also not enumerable in the native implementation.\n         //\n         // Property accessors are not being used as they'd require to define a\n         // private WeakMap storage which may cause memory leaks in browsers that\n         // don't support this type of collections.\n         defineConfigurable(this, { target: target, contentRect: contentRect });\n     }\n     return ResizeObserverEntry;\n }());\n \n /**\n  * A collection of shims that provide minimal functionality of the ES6\n  * collections.\n  *\n  * These implementations are not meant to be used outside of the ResizeObserver\n  * modules as they cover only a limited range of use cases.\n  */\n /* eslint-disable require-jsdoc, valid-jsdoc */\n var MapShim = (function () {\n     if (typeof Map !== 'undefined') {\n         return Map;\n     }\n     /**\n      * Returns index in provided array that matches the specified key.\n      */\n     function getIndex(arr, key) {\n         var result = -1;\n         arr.some(function (entry, index) {\n             if (entry[0] === key) {\n                 result = index;\n                 return true;\n             }\n             return false;\n         });\n         return result;\n     }\n     return /** @class */ (function () {\n         function class_1() {\n             this.__entries__ = [];\n         }\n         Object.defineProperty(class_1.prototype, \"size\", {\n             get: function () {\n                 return this.__entries__.length;\n             },\n             enumerable: true,\n             configurable: true\n         });\n         class_1.prototype.get = function (key) {\n             var _a;\n             var index = getIndex(this.__entries__, key);\n             return (_a = this.__entries__[index]) === null || _a === void 0 ? void 0 : _a[1];\n         };\n         class_1.prototype.set = function (key, value) {\n             var index = getIndex(this.__entries__, key);\n             if (~index) {\n                 this.__entries__[index][1] = value;\n             }\n             else {\n                 this.__entries__.push([key, value]);\n             }\n         };\n         class_1.prototype.delete = function (key) {\n             var entries = this.__entries__;\n             var index = getIndex(entries, key);\n             if (~index) {\n                 entries.splice(index, 1);\n             }\n         };\n         class_1.prototype.has = function (key) {\n             return !!~getIndex(this.__entries__, key);\n         };\n         class_1.prototype.clear = function () {\n             this.__entries__.splice(0);\n         };\n         class_1.prototype.forEach = function (callback, ctx) {\n             var e_1, _a;\n             if (ctx === void 0) { ctx = null; }\n             try {\n                 for (var _b = __values(this.__entries__), _c = _b.next(); !_c.done; _c = _b.next()) {\n                     var entry = _c.value;\n                     callback.call(ctx, entry[1], entry[0]);\n                 }\n             }\n             catch (e_1_1) { e_1 = { error: e_1_1 }; }\n             finally {\n                 try {\n                     if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n                 }\n                 finally { if (e_1) throw e_1.error; }\n             }\n         };\n         return class_1;\n     }());\n })();\n \n var ResizeObserverSPI = /** @class */ (function () {\n     /**\n      * Creates a new instance of ResizeObserver.\n      *\n      * @param callback Callback function that is invoked when one of the observed\n      *     elements changes it's content dimensions.\n      * @param controller Controller instance which is responsible for the updates\n      *     of observer.\n      * @param callbackCtx Reference to the public ResizeObserver instance which\n      *     will be passed to callback function.\n      */\n     function ResizeObserverSPI(callback, controller, callbackCtx) {\n         /**\n          * Collection of resize observations that have detected changes in dimensions\n          * of elements.\n          */\n         this.activeObservations_ = [];\n         /**\n          * Registry of the ResizeObservation instances.\n          */\n         this.observations_ = new MapShim();\n         if (typeof callback !== 'function') {\n             throw new TypeError('The callback provided as parameter 1 is not a function.');\n         }\n         this.callback_ = callback;\n         this.controller_ = controller;\n         this.callbackCtx_ = callbackCtx;\n     }\n     /**\n      * Starts observing provided element.\n      *\n      * @param target Element to be observed.\n      */\n     ResizeObserverSPI.prototype.observe = function (target) {\n         if (target === undefined) {\n             throw new TypeError('1 argument required, but only 0 present.');\n         }\n         // Do nothing if current environment doesn't have the Element interface.\n         if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n             return;\n         }\n         if (!(target instanceof getWindowOf(target).Element)) {\n             throw new TypeError('parameter 1 is not of type \"Element\".');\n         }\n         var observations = this.observations_;\n         // Do nothing if element is already being observed.\n         if (observations.has(target)) {\n             return;\n         }\n         observations.set(target, new ResizeObservation(target));\n         this.controller_.addObserver(this);\n         // Force the update of observations.\n         this.controller_.refresh();\n     };\n     /**\n      * Stops observing provided element.\n      *\n      * @param target Element to stop observing.\n      */\n     ResizeObserverSPI.prototype.unobserve = function (target) {\n         if (target === undefined) {\n             throw new TypeError('1 argument required, but only 0 present.');\n         }\n         // Do nothing if current environment doesn't have the Element interface.\n         if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n             return;\n         }\n         if (!(target instanceof getWindowOf(target).Element)) {\n             throw new TypeError('parameter 1 is not of type \"Element\".');\n         }\n         var observations = this.observations_;\n         // Do nothing if element is not being observed.\n         if (!observations.has(target)) {\n             return;\n         }\n         observations.delete(target);\n         if (!observations.size) {\n             this.controller_.removeObserver(this);\n         }\n     };\n     /**\n      * Stops observing all elements.\n      */\n     ResizeObserverSPI.prototype.disconnect = function () {\n         this.clearActive();\n         this.observations_.clear();\n         this.controller_.removeObserver(this);\n     };\n     /**\n      * Collects observation instances the associated element of which has changed\n      * it's content rectangle.\n      */\n     ResizeObserverSPI.prototype.gatherActive = function () {\n         var _this = this;\n         this.clearActive();\n         this.observations_.forEach(function (observation) {\n             if (observation.isActive()) {\n                 _this.activeObservations_.push(observation);\n             }\n         });\n     };\n     /**\n      * Invokes initial callback function with a list of ResizeObserverEntry\n      * instances collected from active resize observations.\n      */\n     ResizeObserverSPI.prototype.broadcastActive = function () {\n         // Do nothing if observer doesn't have active observations.\n         if (!this.hasActive()) {\n             return;\n         }\n         var ctx = this.callbackCtx_;\n         // Create ResizeObserverEntry instance for every active observation.\n         var entries = this.activeObservations_.map(function (observation) {\n             return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n         });\n         this.callback_.call(ctx, entries, ctx);\n         this.clearActive();\n     };\n     /**\n      * Clears the collection of active observations.\n      */\n     ResizeObserverSPI.prototype.clearActive = function () {\n         this.activeObservations_.splice(0);\n     };\n     /**\n      * Tells whether observer has active observations.\n      */\n     ResizeObserverSPI.prototype.hasActive = function () {\n         return this.activeObservations_.length > 0;\n     };\n     return ResizeObserverSPI;\n }());\n \n /**\n  * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\n  * exposing only those methods and properties that are defined in the spec.\n  */\n var ResizeObserver = /** @class */ (function () {\n     /**\n      * Creates a new instance of ResizeObserver.\n      *\n      * @param callback Callback that is invoked when dimensions of the observed\n      *     elements change.\n      */\n     function ResizeObserver(callback) {\n         if (!(this instanceof ResizeObserver)) {\n             throw new TypeError('Cannot call a class as a function.');\n         }\n         if (!arguments.length) {\n             throw new TypeError('1 argument required, but only 0 present.');\n         }\n         var controller = ResizeObserverController.getInstance();\n         this.observer_ = new ResizeObserverSPI(callback, controller, this);\n     }\n     ResizeObserver.prototype.observe = function (target) {\n         this.observer_.observe(target);\n     };\n     ResizeObserver.prototype.unobserve = function (target) {\n         this.observer_.unobserve(target);\n     };\n     ResizeObserver.prototype.disconnect = function () {\n         this.observer_.disconnect();\n     };\n     return ResizeObserver;\n }());\n \n var index = (function () {\n     // Export existing implementation if available.\n     if (typeof global$1.ResizeObserver !== 'undefined') {\n         return global$1.ResizeObserver;\n     }\n     return ResizeObserver;\n })();\n \n export default index;\n "]}